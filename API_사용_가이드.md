# ğŸš€ ê³µê³µë°ì´í„° API ì—°ë™ ê°€ì´ë“œ

## **1ë‹¨ê³„: ê³µê³µë°ì´í„° í¬í„¸ì—ì„œ API í‚¤ ë°œê¸‰**

### **ì ‘ì† ë° íšŒì›ê°€ì…**
1. **ì‚¬ì´íŠ¸**: https://data.go.kr
2. **íšŒì›ê°€ì…/ë¡œê·¸ì¸**
3. **ê°œë°œìì„¼í„°** â†’ **ì˜¤í”ˆAPI** ë©”ë‰´

### **API ì‹ ì²­**
1. **ê²€ìƒ‰**: "ëŒ€ê¸°ì§ˆ", "êµí†µ", "ì—ë„ˆì§€" ë“± ê²€ìƒ‰
2. **API ì„ íƒ**: ì›í•˜ëŠ” ë°ì´í„°ì˜ API ì„ íƒ
3. **ì‹ ì²­**: ì‚¬ìš© ëª©ì , ì‚¬ìš©ëŸ‰ ë“± ì…ë ¥ í›„ ì‹ ì²­
4. **ìŠ¹ì¸ ëŒ€ê¸°**: ë³´í†µ 1-2ì¼ ì†Œìš”
5. **API í‚¤ ë°œê¸‰**: ìŠ¹ì¸ í›„ ì¸ì¦í‚¤ ë°œê¸‰

## **2ë‹¨ê³„: í™˜ê²½ë³€ìˆ˜ ì„¤ì •**

### **ë°±ì—”ë“œ í´ë”ì— .env íŒŒì¼ ìƒì„±**
```bash
# backend/.env íŒŒì¼ ìƒì„±
AIR_QUALITY_API_KEY=ë°œê¸‰ë°›ì€_ëŒ€ê¸°ì§ˆ_API_í‚¤
TRANSPORT_API_KEY=ë°œê¸‰ë°›ì€_êµí†µ_API_í‚¤
ENERGY_API_KEY=ë°œê¸‰ë°›ì€_ì—ë„ˆì§€_API_í‚¤
WEATHER_API_KEY=ë°œê¸‰ë°›ì€_ë‚ ì”¨_API_í‚¤
```

## **3ë‹¨ê³„: API í…ŒìŠ¤íŠ¸**

### **ë¸Œë¼ìš°ì €ì—ì„œ í…ŒìŠ¤íŠ¸**
```
http://localhost:8000/api/statistics/test/public-data/ì„œìš¸
```

### **ì‘ë‹µ ì˜ˆì‹œ**
```json
{
  "region": "ì„œìš¸",
  "test_results": {
    "air_quality": {
      "region": "ì„œìš¸",
      "air_quality_index": 75,
      "pm10": 45.0,
      "pm25": 25.0,
      "status": "success"
    },
    "transport": {
      "region": "ì„œìš¸",
      "subway_usage": 85.2,
      "bus_usage": 78.5,
      "status": "success"
    }
  },
  "status": "success"
}
```

## **4ë‹¨ê³„: ì‹¤ì œ API ì—°ë™**

### **í˜„ì¬ êµ¬í˜„ëœ ê¸°ëŠ¥ë“¤**
- âœ… **ëŒ€ê¸°ì§ˆ ì •ë³´**: ì‹¤ì‹œê°„ ëŒ€ê¸°ì§ˆ ì§€ìˆ˜
- âœ… **êµí†µ ì´ìš©ë¥ **: ì§€í•˜ì² , ë²„ìŠ¤, ìì „ê±° ì´ìš©ë¥ 
- âœ… **ì—ë„ˆì§€ ì‚¬ìš©ëŸ‰**: ì „ë ¥, ê°€ìŠ¤, ì¬ìƒì—ë„ˆì§€ ë¹„ìœ¨
- âœ… **ë‚ ì”¨ ì •ë³´**: ì˜¨ë„, ìŠµë„, í’ì†, ê¸°ì••
- âœ… **ì¢…í•© í™˜ê²½ ì§€ìˆ˜**: ëª¨ë“  ë°ì´í„°ë¥¼ ì¢…í•©í•œ ì§€ìˆ˜

### **API ì—”ë“œí¬ì¸íŠ¸ë“¤**
```
GET /api/statistics/regional/{region}     # ì§€ì—­ë³„ í†µê³„ (ê³µê³µë°ì´í„° ì—°ë™)
GET /api/statistics/test/public-data/{region}  # API í…ŒìŠ¤íŠ¸
```

## **5ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í™•ì¸**

### **ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸**
1. **í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰**: `npm start`
2. **ëŒ€ì‹œë³´ë“œ ì ‘ì†**: http://localhost:3000
3. **ë°ì´í„° ë¶„ì„ ì„¹ì…˜**: "ìƒì„¸ ë¶„ì„ ë³´ê¸°" í´ë¦­
4. **ì§€ì—­ë³„ í™˜ê²½ ì§€ìˆ˜**: ì‹¤ì‹œê°„ ë°ì´í„° í™•ì¸

## **6ë‹¨ê³„: ì»¤ìŠ¤í„°ë§ˆì´ì§•**

### **ìƒˆë¡œìš´ API ì¶”ê°€**
```python
# backend/utils/public_data_api.pyì— ì¶”ê°€
def get_new_data(self, region: str) -> Dict[str, Any]:
    """ìƒˆë¡œìš´ ê³µê³µë°ì´í„° API ì¶”ê°€"""
    try:
        url = "ìƒˆë¡œìš´_API_ì—”ë“œí¬ì¸íŠ¸"
        params = {
            "serviceKey": self.api_keys["new_api"],
            "region": region
        }
        response = requests.get(url, params=params)
        # ë°ì´í„° ì²˜ë¦¬ ë¡œì§
        return processed_data
    except Exception as e:
        return self._get_default_new_data(region)
```

### **í™˜ê²½ë³€ìˆ˜ ì¶”ê°€**
```bash
# .env íŒŒì¼ì— ì¶”ê°€
NEW_API_KEY=ìƒˆë¡œìš´_API_í‚¤
```

## **7ë‹¨ê³„: ì—ëŸ¬ ì²˜ë¦¬**

### **API ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ê°’ ì‚¬ìš©**
- ëª¨ë“  API í˜¸ì¶œì— try-catch ì ìš©
- ì‹¤íŒ¨ ì‹œ í˜„ì‹¤ì ì¸ ê¸°ë³¸ê°’ ë°˜í™˜
- ë¡œê·¸ì— ì—ëŸ¬ ê¸°ë¡

### **ìºì‹± ì ìš© (ì„ íƒì‚¬í•­)**
```python
# Redis ìºì‹±ìœ¼ë¡œ API í˜¸ì¶œ ìµœì í™”
import redis
redis_client = redis.Redis(host='localhost', port=6379, db=0)

def get_cached_data(key: str, ttl: int = 3600):
    cached = redis_client.get(key)
    if cached:
        return json.loads(cached)
    return None
```

## **8ë‹¨ê³„: ëª¨ë‹ˆí„°ë§**

### **API ìƒíƒœ í™•ì¸**
- ì •ê¸°ì ì¸ API í˜¸ì¶œ í…ŒìŠ¤íŠ¸
- ì‘ë‹µ ì‹œê°„ ëª¨ë‹ˆí„°ë§
- ì—ëŸ¬ìœ¨ ì¶”ì 

### **ë¡œê·¸ í™•ì¸**
```bash
# ë°±ì—”ë“œ ë¡œê·¸ì—ì„œ API í˜¸ì¶œ ìƒíƒœ í™•ì¸
tail -f backend/logs/api.log
```

## **ğŸ¯ ì¶”ì²œ API ëª©ë¡**

### **í™˜ê²½ë¶€**
- **ëŒ€ê¸°í™˜ê²½ì •ë³´**: `getCtprvnRltmMesureDnsty`
- **ìˆ˜ì§ˆì •ë³´**: `getRiverQuality`
- **ì†ŒìŒì •ë³´**: `getNoiseInfo`

### **êµ­í† êµí†µë¶€**
- **ëŒ€ì¤‘êµí†µì •ë³´**: `getSttnNoList`
- **ìì „ê±°ì´ìš©ì •ë³´**: `getBicycleUsage`
- **ë³´í–‰ëŸ‰ì •ë³´**: `getWalkingData`

### **ê¸°ìƒì²­**
- **ë‹¨ê¸°ì˜ˆë³´**: `getUltraSrtNcst`
- **ì¤‘ê¸°ì˜ˆë³´**: `getMidFcst`
- **ê¸°ìƒíŠ¹ë³´**: `getWeatherWarning`

### **í†µê³„ì²­**
- **ì—ë„ˆì§€í†µê³„**: `getEnergyStatistics`
- **í™˜ê²½í†µê³„**: `getEnvironmentalStats`
- **ì§€ì—­í†µê³„**: `getRegionalStats`

## **ğŸš¨ ì£¼ì˜ì‚¬í•­**

1. **API í‚¤ ë³´ì•ˆ**: .env íŒŒì¼ì„ .gitignoreì— ì¶”ê°€
2. **í˜¸ì¶œ ì œí•œ**: APIë³„ ì¼ì¼ í˜¸ì¶œ ì œí•œ í™•ì¸
3. **ë°ì´í„° ì •í™•ì„±**: ê³µì‹ ë¬¸ì„œ í™•ì¸ í›„ ì‚¬ìš©
4. **ì—…ë°ì´íŠ¸ ì£¼ê¸°**: API ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ ëŒ€ì‘
5. **ì—ëŸ¬ ì²˜ë¦¬**: ëª¨ë“  API í˜¸ì¶œì— ì˜ˆì™¸ ì²˜ë¦¬ í•„ìˆ˜

## **ğŸ’¡ íŒ**

- **í…ŒìŠ¤íŠ¸ ë¨¼ì €**: API í‚¤ ë°œê¸‰ í›„ í…ŒìŠ¤íŠ¸ ì—”ë“œí¬ì¸íŠ¸ë¡œ í™•ì¸
- **ì ì§„ì  ì ìš©**: í•˜ë‚˜ì”© APIë¥¼ ì¶”ê°€í•˜ë©° í…ŒìŠ¤íŠ¸
- **ê¸°ë³¸ê°’ ì¤€ë¹„**: API ì‹¤íŒ¨ ì‹œ ì‚¬ìš©í•  í˜„ì‹¤ì ì¸ ê¸°ë³¸ê°’ ì¤€ë¹„
- **ë¬¸ì„œí™”**: ì‚¬ìš©í•˜ëŠ” APIì˜ ë¬¸ì„œë¥¼ ì˜ ì½ê³  ì´í•´í•˜ê¸°


